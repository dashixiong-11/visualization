<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
    <link rel="stylesheet" href="./index.css">
    <title>设置</title>
    <script>
        const clientWidth = document.documentElement.clientWidth
        const clientHeight = document.documentElement.clientHeight
        window.pageWidth = clientWidth / clientHeight > 16 / 9 ? clientHeight * (16 / 9) : clientWidth
        const pageHeight = pageWidth / (16 / 9)
        const string = `<style>html{ font-size: ${pageWidth / 100}px }</style>`
        document.write(string)
    </script>
</head>
<body>
<div id="root">
    <div class="App">
        <div class="setting">
            <div class="plan" id="plan-wrapper" style='position: relative'>
                <img src='' class='canvas-img' id='image' draggable='false'/>
            </div>
            <div class='right'>
                <!--                <button id="add-button">新增</button>-->
                <button id="get-data">获取数据</button>
                <div class="input-wrapper" id="input-wrapper">
                    <div>
                        <div>标题: <input name='title' type="text"></div>
                        <!--                        <div>内容: <textarea name='content'></textarea></div>-->
                        <div>
                            <!--                            <button class='submit' id="submit-button">确定</button>-->
                            <!--                            <button id="delete-button">删除</button>-->
                            <!--                            <button id="cancel-button">取消</button>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    // root.style.width = pageWidth + 'px'
    root.style.height = pageHeight + 'px'
    root.style.marginTop = (clientHeight - pageHeight) / 2 + 'px'
</script>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="./plan.js"></script>
<script type="module">

    $(function () {

        window.My_Plan.setImage({
            img: '../images/demo_picture.png'
        })
        window.My_Plan.render({
            list: [
                {id: 1, title: '温湿度', top: 0, left: 0},
                {id: 2, title: '空气质量', top: 0, left: 0},
            ],
        })
        setTimeout(() => {
            window.My_Plan.push({
                data: {
                    aid: 123,
                    atitle: 'title'
                },
                keys: {
                    id: 'aid',
                    title: 'atitle'
                }
            })
        }, 3000)

        setTimeout(() => {
            window.My_Plan.confirm(list => {
                console.log(list);
            })
        }, 6000)
        setTimeout(() => {
            window.My_Plan.delete(1)
        }, 9000)
        /*   window.My_Setting.push({
               data: {
                   aid: 123,
                   atitle: 'title'
               },
               keys: {
                   id: 'aid',
                   title: 'atitle'
               }
           })*/
        /*
                setTimeout(() => {
                    window.My_Setting.delete(1)
                }, 2000)
        */
    })
</script>
</body>
</html>